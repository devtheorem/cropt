<html>
<head>
<!-- ** (1) include the css + js file -->
  <link rel="stylesheet" href="https://unpkg.com/cropt2@latest/style" />
  <script src="https://unpkg.com/cropt2@latest"></script>
   <!-- <script src="../dist/cropt.min.js"></script> -->
</head>
<body>
    <h1>Basic Demo</h1>
    <p>This demo attempts to show the bare minimum needed... basically just the npm packages in header
        and some javascript to wire-up the image.
    </p>
<table>
<tr><td>
<!-- ** (2) include container -->
        <div id="crop" style="width: 320px; height: 320px;"></div>
    </td>
    <td>
        <button onclick="getCrop()">Show Crop &gt;</button>
    </td>
    <td>
        <img id='crop-image' />
    </td>
</tr>
</table>



<script>
    // instead of including above in <script> could do this (add "?module" if script type="module"):
    // import Cropt from 'https://unpkg.com/cropt2@latest"

    const container = document.getElementById('crop');

// ** (3) connect cropt to the container element, select options to activate (see README)
    const cropt = new Cropt(container, {
        viewport: { width: 220, height: 220, borderRadius: "50%" },
        resizeBars: true,
        enableRotateBtns: true
        });

// ** (4) bind a picture to Cropt, we can generate a crop canvas/blob from it
    cropt.bind("https://raw.githubusercontent.com/mindflowgo/cropt/refs/heads/master/docs/assets/photos/kitten.jpg");

    // after zooming, moving, cropping, get the resulting image:
    function getCrop(){
        cropt.toCanvas(500).then( canvas => {
// ** (5) grab the crop-image data
            document.getElementById('crop-image').src = canvas.toDataURL()
            // copy the image viewport proportions & border curve
            document.getElementById('crop-image').style.width = cropt.options.viewport.width;
            document.getElementById('crop-image').style.borderRadius = cropt.options.viewport.borderRadius;
        });
    }
</script>
</body>
</html>
